{"ast":null,"code":"var _jsxFileName = \"/Users/pankajyadav/Downloads/thrift-store/client/src/components/PaymentGateway.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Typography, Box, CircularProgress, Alert, Divider } from '@mui/material';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\n// Replace with your Stripe publishable key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('pk_test_51NxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX');\nconst PaymentForm = ({\n  amount,\n  onSuccess,\n  onError\n}) => {\n  _s();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n    setProcessing(true);\n    setError(null);\n    try {\n      // In a real application, you would create a payment intent on your server\n      // and then confirm it with the client secret\n      // For this example, we'll simulate a successful payment\n\n      // Simulate API call to create payment intent\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // Simulate successful payment\n      onSuccess();\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'An error occurred during payment';\n      setError(errorMessage);\n      onError(errorMessage);\n    } finally {\n      setProcessing(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Payment Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        gutterBottom: true,\n        children: [\"Total Amount: \\u20B9\", amount.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          my: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          border: '1px solid #e0e0e0',\n          borderRadius: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(CardElement, {\n          options: {\n            style: {\n              base: {\n                fontSize: '16px',\n                color: '#424770',\n                '::placeholder': {\n                  color: '#aab7c4'\n                }\n              },\n              invalid: {\n                color: '#9e2146'\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mt: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      fullWidth: true,\n      disabled: !stripe || processing,\n      sx: {\n        mt: 2\n      },\n      children: processing ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24,\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this) : `Pay ₹${amount.toFixed(2)}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentForm, \"Ap4t05zM++F41C0rJUpfuMThbuE=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = PaymentForm;\nconst PaymentGateway = ({\n  open,\n  onClose,\n  amount,\n  onSuccess,\n  onError\n}) => {\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Complete Your Purchase\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Elements, {\n        stripe: stripePromise,\n        children: /*#__PURE__*/_jsxDEV(PaymentForm, {\n          amount: amount,\n          onSuccess: onSuccess,\n          onError: onError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PaymentGateway;\nexport default PaymentGateway;\nvar _c, _c2;\n$RefreshReg$(_c, \"PaymentForm\");\n$RefreshReg$(_c2, \"PaymentGateway\");","map":{"version":3,"names":["React","useState","Dialog","DialogTitle","DialogContent","DialogActions","Button","Typography","Box","CircularProgress","Alert","Divider","loadStripe","Elements","CardElement","useStripe","useElements","jsxDEV","_jsxDEV","stripePromise","PaymentForm","amount","onSuccess","onError","_s","stripe","elements","processing","setProcessing","error","setError","handleSubmit","event","preventDefault","Promise","resolve","setTimeout","err","errorMessage","Error","message","onSubmit","children","sx","mb","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","toFixed","my","p","border","borderRadius","options","style","base","fontSize","invalid","severity","mt","type","fullWidth","disabled","size","_c","PaymentGateway","open","onClose","maxWidth","onClick","_c2","$RefreshReg$"],"sources":["/Users/pankajyadav/Downloads/thrift-store/client/src/components/PaymentGateway.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  Box,\n  CircularProgress,\n  Alert,\n  Divider,\n} from '@mui/material';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\n// Replace with your Stripe publishable key\nconst stripePromise = loadStripe('pk_test_51NxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX');\n\nconst PaymentForm = ({ amount, onSuccess, onError }) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!stripe || !elements) {\n      return;\n    }\n\n    setProcessing(true);\n    setError(null);\n\n    try {\n      // In a real application, you would create a payment intent on your server\n      // and then confirm it with the client secret\n      // For this example, we'll simulate a successful payment\n      \n      // Simulate API call to create payment intent\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      // Simulate successful payment\n      onSuccess();\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'An error occurred during payment';\n      setError(errorMessage);\n      onError(errorMessage);\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Payment Details\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n          Total Amount: ₹{amount.toFixed(2)}\n        </Typography>\n        <Divider sx={{ my: 2 }} />\n        <Box sx={{ p: 2, border: '1px solid #e0e0e0', borderRadius: 1 }}>\n          <CardElement\n            options={{\n              style: {\n                base: {\n                  fontSize: '16px',\n                  color: '#424770',\n                  '::placeholder': {\n                    color: '#aab7c4',\n                  },\n                },\n                invalid: {\n                  color: '#9e2146',\n                },\n              },\n            }}\n          />\n        </Box>\n        {error && (\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\n            {error}\n          </Alert>\n        )}\n      </Box>\n      <Button\n        type=\"submit\"\n        variant=\"contained\"\n        fullWidth\n        disabled={!stripe || processing}\n        sx={{ mt: 2 }}\n      >\n        {processing ? (\n          <CircularProgress size={24} color=\"inherit\" />\n        ) : (\n          `Pay ₹${amount.toFixed(2)}`\n        )}\n      </Button>\n    </form>\n  );\n};\n\nconst PaymentGateway = ({ open, onClose, amount, onSuccess, onError }) => {\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>Complete Your Purchase</DialogTitle>\n      <DialogContent>\n        <Elements stripe={stripePromise}>\n          <PaymentForm\n            amount={amount}\n            onSuccess={onSuccess}\n            onError={onError}\n          />\n        </Elements>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default PaymentGateway; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}